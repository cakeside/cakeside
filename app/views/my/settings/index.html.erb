<% provide(:title, "My Settings") -%>
<% content_for :javascript do %>
<script type="text/javascript" charset="utf-8">
  $(function(){
    $('#edit_user').validate();
  });
</script>
<% end %>

<%= render :partial => "shared/account_nav", :locals => { :selected => :basic_info } %>

<div class="row-fluid">
  <div class="span12">
    <%= form_for(@user, :url => my_setting_path(@user), :html => { :method => :put, :class => "form-horizontal" }) do |f| %>
      <fieldset>
        <div class="control-group">
          <%= f.label :name, :class => "control-label"  %>
          <div class="controls"> <%= f.text_field :name, :class => "input-xlarge" %> </div>
        </div>
        <div class="control-group">
          <%= f.label :email, :class => "control-label"  %>
          <div class="controls"> <%= f.email_field :email, :class => "input-xlarge"  %> </div>
        </div>
        <div class="control-group">
          <%= f.label :city, :class => 'control-label' %>
          <div class="controls"> <%= f.text_field :city, :class => "input-xlarge" %> </div>
        </div>
        <div class="control-group">
          <%= f.label :website, :class => "control-label" %> 
          <div class="controls"> <%= f.url_field :website, :class => "input-xlarge url", :placeholder => "http://cakeside.com" %> </div>
        </div>
        <div class="control-group">
          <%= f.label :twitter, "Twitter username @", :class => "control-label" %> 
          <div class="controls"> <%= f.text_field :twitter, :class => "input-xlarge", :placeholder => "without the @ sign", :maxlength => "255" %> </div>
        </div>
        <div class="control-group">
          <%= f.label :facebook, :class => "control-label" %> 
          <div class="controls"> <%= f.text_field :facebook, :class => "input-xlarge", :placeholder => "http://www.facebook.com/your_profile", :maxlength => "255" %> </div>
        </div>
        <p class="help-block">
        <strong>Note:</strong> Help us better serve you by checking off what best describes you?
        </p>
        <div class="control-group">
          <label class="control-label">About me:</label>
          <div class="controls">
            <% for interest in Interest.all %>
              <label class="checkbox">
                <%= check_box_tag "user[interest_ids][]", interest.id, current_user.interests.include?(interest) %>
                <%= interest.name %>
              </label>
            <% end %>
          </div>
        </div><!-- /control-group -->
        <div class="form-actions">
          <input type="submit" class="btn btn-primary" value="Save changes" />
          <button type="reset" class="btn">Cancel</button>
        </div>
        <%= f.hidden_field :latitude %>
        <%= f.hidden_field :longitude %>
      </fieldset>
    <% end %>
  </div>
</div>
